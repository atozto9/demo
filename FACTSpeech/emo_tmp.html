<!DOCTYPE html>

<html lang="en">


<head>
    <meta charset="utf-8">
    <style type="text/css">
        a:link {
            color: black;
            text-decoration: none;
        }

        a:visited {
            color: black;
            text-decoration: none;
        }

        a:hover {
            color: blue;
            text-decoration: underline;
        }

        #player {
            width: 250px;
        }

        ​
    </style>


    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>EmoQ-TTS Demo</title>
    <!-- Font Awesome icons (free version)-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"
            crossorigin="anonymous"></script>
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet">
    <!-- Fonts CSS-->
    <link rel="stylesheet" href="css/heading.css">
    <link rel="stylesheet" href="css/body.css">
    <!-- Bootstrap slider CSS -->
    <!-- <link rel="stylesheet" href="css/bootstrap-slider.css"> -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/css/bootstrap-slider.min.css"
          integrity="sha512-3q8fi8M0VS+X/3n64Ndpp6Bit7oXSiyCnzmlx6IDBLGlY5euFySyJ46RUlqIVs0DPCGOypqP8IRk/EyPvU28mQ=="
          crossorigin="anonymous"/>
</head>
<body id="page-top">
<nav class="navbar navbar-expand-lg bg-secondary fixed-top" id="mainNav">
    <div class="container"><a class="navbar-brand js-scroll-trigger" href="#page-top">Audio demos</a>
        <button class="navbar-toggler navbar-toggler-right font-weight-bold bg-primary text-white rounded" type="button"
                data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive"
                aria-expanded="false" aria-label="Toggle navigation">Menu <i class="fas fa-bars"></i></button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger"
                                                     href="#abstract">ABSTRACT</a>
                <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger"
                                                     href="#emotion_control">Emotion Control</a></li>
                <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger"
                                                     href="#single_speaker">Single-Speaker TTS</a></li>
                <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger"
                                                     href="#multi_speaker">Multi-Speaker TTS</a></li>
                <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger"
                                                     href="#ablation_study">Ablation Study</a></li>
                <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger"
                                                     href="#vocoder_finetune">Vocoder Finetuning</a></li>
                <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger"
                                                     href="#english_test">Other Language Test</a></li>

            </ul>
        </div>
    </div>
</nav>
<header class="masthead bg-white text-left"> <!-- text-black 사용 가능 -->
    <div class="container d-flex align-items-center flex-column">
        <!-- Masthead Heading-->
        <h1 class="masthead-heading mb-0">EmoQ-TTS: Emotion intensity Quantization for Fine-grained Controllable
            Emotional Text-to-Speech</h1>
        <!-- Masthead Subheading-->
        <p class="pre-wrap masthead-subheading font-weight-light mb-0 font-italic">Chae-Bin Im, Sang-Hoon Lee, Seung-Bin
            Kim, Seong-Whan Lee</p>
    </div>
</header>

<!-- Abstraction -->
<section class="page-section portfolio" id="abstract">
    <div class="container">
        <!-- Portfolio Section Heading-->
        <div class="text-center">
            <h2 class="page-section-heading text-secondary mb-0 d-inline-block">ABSTRACT</h2>
        </div>
        <!-- Icon Divider-->
        <div class="divider-custom">
            <div class="divider-custom"></div>
        </div>
        <!-- Portfolio Grid Items-->
        <div class="row justify-content-center">
            <div class="col-lg-12 ml-auto">
                <p class="pre-wrap lead"> Although recent advances in text-to-speech (TTS) have shown significant
                    improvement, it is still limited to emotional speech synthesis. To produce emotional speech, most
                    works utilize emotion information extracted from emotion labels or reference audio. However, they
                    result in monotonous emotional expression due to the utterance-level emotion conditions. In this
                    paper, we propose EmoQ-TTS, which synthesizes expressive emotional speech by conditioning
                    phoneme-wise emotion information with fine-grained emotion intensity. Here, the intensity of emotion
                    information is rendered by distance-based intensity quantization without human labeling. We can also
                    control the emotional expression of synthesized speech by conditioning intensity labels manually.
                    The experimental results demonstrate the superiority of EmoQ-TTS in emotional expressiveness and
                    controllability. </p>

            </div>
        </div>
    </div>
</section>


<!-- ABLATION -->
<section class="page-section bg-primary text-white mb-0" id="emotion_control">
    <div class="container">
        <div class="text-center">
            <h2 class="page-section-heading d-inline-block">Emotion Control</h2>
        </div>

        <div class="divider-custom divider-light">
            <div class="divider-custom"></div>
        </div>


        <!-- About Section Content-->

        <th colspan="4" style="width: 40%">
            <div class="text-center">Script : <i>그러나 이제는 이런 단순대결구도에만 집착해서는 안됩니다. </i></div>
            <div class="text-center">Translation : <i>But now we shouldn't stick to this simple confrontation
                structure.</i></div>
            <div class="text-center">Pronunciation : <i>Geuleona ijeneun ileon dansundaegyeolgudo-eman jibchaghaeseoneun
                andoebnida.</i></div>
        </th>

        <div class="row text-center">
            <div class="col-lg-12 ml-auto">
            </div>
            <!--                    <div class="col-lg-12 ml-auto">-->
            <!--                        <span>All: </span>&nbsp;&nbsp;-->
            <!--                        <input id="all" type="input" data-slider-min="0" data-slider-max="1"-->
            <!--                               data-slider-step="0.1" data-slider-value="0"/>&nbsp;&nbsp;-->
            <!--                        <span id="all-val">0</span>-->
            <!--                    </div>-->

            <div id="emo_button" class="col-lg-12 ml-auto">
                <h5>Emotion</h5>
                <input id="emo0" type='button' value='neutral' onclick="emo_click0(0);"/>
                <input id="emo1" type='button' value='happy' onclick="emo_click(1);"/>
                <input id="emo2" type='button' value='sad' onclick="emo_click(2);"/>
                <input id="emo3" type='button' value='angry' onclick="emo_click(3);"/>
                <input id="emo4" type='button' value='surprised' onclick="emo_click(4);"/>
                <input id="emo5" type='button' value='fear' onclick="emo_click(5);"/>
                <input id="emo6" type='button' value='disgusted' onclick="emo_click(6);"/>
            </div>
            <div class="col-lg-12 ml-auto">
                <h5>Intensity</h5>
                <span id="intensity-val1">0</span>&nbsp;&nbsp;
                <input id="intensity" type="input" data-slider-min="0" data-slider-max="1"
                       data-slider-step="0.1" data-slider-value="0" data-slider-enabled="false"/>&nbsp;&nbsp;
                <span id="intensity-val2">1</span>
                <br>
                <input id="inten0" type='button' value='gradually increasing' onclick="inten_click(0);" disabled/>
                <input id="inten1" type='button' value='gradually decreasing' onclick="inten_click(1);" disabled/>

            </div>
        </div>
        <br>


        <div class="row">
            <div class="text-center col-lg-12">
                <br/>
                <audio id="audio_panel" controls>
                    <source id="audio_src" src="./audio/control/acriil_sur_00000032_0.wav" type="audio/wav"/>
                </audio>
            </div>
        </div>


        <div class="row">
            <div class="text-center col-lg-12">
                <br/>
                <img id="img_src" src="./audio/control/acriil_sur_00000032_0.png" width="40%">
            </div>
        </div>

    </div>
</section>


<div class="scroll-to-top d-lg-none position-fixed"><a class="js-scroll-trigger d-block text-center text-white rounded"
                                                       href="#page-top"><i class="fa fa-chevron-up"></i></a></div>
<!-- Bootstrap core JS-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
<!-- Third party plugin JS-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>

<script src="js/scripts.js"></script>
<!-- Bootstrap slider JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.min.js"
        integrity="sha512-f0VlzJbcEB6KiW8ZVtL+5HWPDyW1+nJEjguZ5IVnSQkvZbwBt2RfCBY0CBO1PsMAqxxrG4Di6TfsCPP3ZRwKpA=="
        crossorigin="anonymous"></script>

<!-- slider JS -->
<script type="text/javascript">
    var emotion = 0
    var intensity = 0
    var up = 0
    var down = 0

    function emo_click0(i) {
        emotion = 0;
        intensity = 0;
        $('#emo0').css("background-color", "greenyellow")


        for (j = 0; j < 7; j++) {
            if (j != i) {
                $('#emo' + j).css("background-color", "")
            }
        }

        $('#intensity').slider('disable')
        $('#inten0').css("background-color", "")
        $('#inten1').css("background-color", "")
        $('#inten0').prop('disabled', true);
        $('#inten1').prop('disabled', true);

        audio_reload()
    }


    function emo_click(i) {
        emotion = i;

        $('#emo' + i).css("background-color", "greenyellow")

        for (j = 0; j < 7; j++) {
            if (j != i) {
                $('#emo' + j).css("background-color", "")
            }
        }

        $('#intensity').slider('enable')
        $('#inten0').prop('disabled', false);
        $('#inten1').prop('disabled', false);

        audio_reload()
    }


    function inten_click(i) {
        if (i == 0) {
            $('#inten0').css("background-color", "skyblue")
            $('#inten1').css("background-color", "")
            up = 1
            down = 0
        } else {
            $('#inten0').css("background-color", "")
            $('#inten1').css("background-color", "skyblue")
            up = 0
            down = 1
        }
        audio_reload()
    }


    function audio_reload() {

        emotion = Number(emotion);
        up = Number(up);
        down = Number(down);

        if (emotion == 0) {
            console.log(emotion)
            console.log(intensity)
            var img_name = "./audio/control/acriil_sur_00000032_0.png";
            var audio_name = "./audio/control/acriil_sur_00000032_0.wav";
        } else {

            if (up == 1) {
                console.log(emotion)
                var img_name = "./audio/control/acriil_sur_00000032_" + emotion + "_up.png";
                var audio_name = "./audio/control/acriil_sur_00000032_" + emotion + "_up.wav";
            } else if (down == 1) {
                console.log(emotion)
                var img_name = "./audio/control/acriil_sur_00000032_" + emotion + "_down.png";
                var audio_name = "./audio/control/acriil_sur_00000032_" + emotion + "_down.wav";
            } else {
                intensity = Number($("#intensity").val()) * 10;

                console.log(emotion)
                console.log(intensity)

                var img_name = "./audio/control/acriil_sur_00000032_" + emotion + "_" + intensity + ".png";
                var audio_name = "./audio/control/acriil_sur_00000032_" + emotion + "_" + intensity + ".wav";
            }
        }
        console.log(img_name)
        console.log(audio_name)

        $('#img_src').attr("src", img_name);
        $('#audio_src').attr("src", audio_name);

        console.log($('#audio_src').val());
        console.log($("#audio_panel"))
        $('#audio_panel')[0].load();


    };

    $(function () {
        // 값을 선택할 수 있는 슬라이더 출력
        // $('#all').slider({
        //     formatter: function(value) {
        //         $("#all-val").text(value);
        //         $("#duration").slider(value)
        //         return 'total: ' + value;
        //     }
        // });

        $('#intensity').slider({
            formatter: function (value) {
//                        var intensity_val2 = 15;
//                        var intensity_val1 = 0;
//                        $("#intensity-val1").text(intensity_val1);
//                        $("#intensity-val2").text(intensity_val2);
                up = 0
                down = 0
                $('#inten0').css("background-color", "")
                $('#inten1').css("background-color", "")
                return 'intensity: ' + value;
            }
        });

        $('#intensity').on("slide click", function () {
            audio_reload()
        });


    });
</script>
</body>
</html>